<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Food Info</title>
   <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=swap" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="food_info.css">
</head>
<body>
<div class="background">
    <img src="../images/brickwall.jpg" class="bg-img" alt="Cafe Background" />
  </div>

</div>
  <div class="container">
    <img src="speech.png" alt="Speech Icon" class="speech-icon" id="speechIcon" />
    <div class="speech-indicator" id="speechIndicator">Disabled</div>
    <div class="header">
      <img id="food-image" src="" alt="Food Image">
      <div class="info">
        <h1 id="food-name">Loading...</h1>
        <!-- Servings control with arrows -->
        <div id="servings-control" style="color:#fff;font-size:1rem;margin-top:8px;display:flex;align-items:center;gap:8px;">
          Servings:
          <button id="servings-decrease" type="button" style="margin-left:8px;padding:2px 10px;font-size:1.2rem;border-radius:50%;border:none;background:#ecd8a7;cursor:pointer;">&#8592;</button>
          <input id="servings-input" type="number" min="1" max="20" value="4" style="width:48px;text-align:center;font-size:1rem;border-radius:6px;border:1px solid #ccc;" />
          <button id="servings-increase" type="button" style="padding:2px 10px;font-size:1.2rem;border-radius:50%;border:none;background:#ecd8a7;cursor:pointer;">&#8594;</button>
        </div>
        <p id="food-budget">Estimated budget: Loading...</p>
        <p id="food-filters">Filters included: Loading...</p>
        <p id="food-allergens" style="margin:5px 0;font-size:1rem;color:#ffffff;">Allergens: Loading...</p>
        <div id="food-link" style="margin-top:8px;color: white;"></div>
      </div>
    </div>
    <div id="food-description" style="margin: 18px 0px 0px;
    font-size: 0.9rem;
    color: rgb(5 0 0);
    background: #fff;
    border-radius: 6px;
    padding: 14px 18px;">
      <strong>Description:</strong>
      <span id="food-description-text"></span>
    </div>
    <div id="food-history" style="margin: 18px 0px 0px;
    font-size: 0.9rem;
    color: rgb(5 0 0);
    background: #fff;
    border-radius: 6px;
    padding: 14px 18px;
    display: none;">
      <strong>History:</strong>
      <span id="food-history-text"></span>
    </div>
    <!--add the history here -->
    </div>
<div class="container2">
  <div class="content" id="detailsContent" style="display: none;">
    <div class="section">
      <h2>Ingredients:</h2>
      <ul id="food-ingredients">
        <!-- Ingredients will be dynamically populated -->
      </ul>
    </div>
    <div class="section">
      <h2>Instructions:</h2>
      <ul id="food-instructions">
        <!-- Instructions will be dynamically populated -->
      </ul>
    </div>
  </div>
</div>

<div class="buttons">
  <button class="back-button" id="back-button">
    <span class="material-symbols-outlined" style="vertical-align: middle; margin-right: 8px;">stadia_controller</span>
    Back
  </button>
  <button class="okay-button" onclick="window.location.href='../index.html'">
    <span class="material-symbols-outlined" style="vertical-align: middle; margin-right: 8px;">house</span>
    Okay
  </button>
</div>
    </div>
  <!-- Add this loading overlay for food info loading -->
  <div id="food-loading-overlay" style="display:none;position:fixed;z-index:3000;top:0;left:0;width:100vw;height:100vh;background:rgba(59,36,11,0.65);backdrop-filter:blur(2px);pointer-events:auto;align-items:center;justify-content:center;">
    <div style="background:linear-gradient(135deg,#ecd8a7 60%,#fff8e1 100%);border-radius:18px;box-shadow:0 4px 32px rgba(59,36,11,0.18),0 1.5px 8px #c78456;padding:2.2em 2.5em;display:flex;flex-direction:column;align-items:center;font-family:'Poppins',Arial,sans-serif;color:#3b240b;font-size:1.25rem;font-weight:600;letter-spacing:0.01em;text-align:center;max-width:90vw;min-width:180px;min-height:60px;">
      <div style="border:4px solid #ecd8a7;border-top:4px solid #c78456;border-radius:50%;width:38px;height:38px;margin-bottom:18px;animation:spin 1s linear infinite;box-shadow:0 0 0 2px #fff8e1;"></div>
      Loading food information...
    </div>
    <style>
      @keyframes spin {0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}
      @media (max-width:600px){
        #food-loading-overlay div{padding:1.2em 0.7em;font-size:1rem;min-width:120px;}
        #food-loading-overlay div>div{width:28px;height:28px;margin-bottom:12px;}
      }
    </style>
  </div>

  <script type="module" src="food_info.js"></script>
</body>
</html>